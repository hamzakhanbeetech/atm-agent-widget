webpackJsonp([1],{vEvk:function(n,l,u){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var e=u("3j3K"),t=u("NVOs"),o=function(){function n(n){this.formBuilder=n,this.paymentObj={total_amount:0,image_url:""},this.alive=!0,this.currencies=[{currency_id:1,symbol:"$",code:"USD",name:"United States dollar"},{currency_id:2,symbol:"\u200e\u20ac",code:"EUR",name:"Euro"},{currency_id:3,symbol:"\xa5\u200e",code:"JPY",name:"Japanese yen"},{currency_id:4,symbol:"\xa3",code:"GBP",name:"Pound sterling"},{currency_id:5,symbol:"$",code:"AUD",name:"Australian dollar"},{currency_id:6,symbol:"C$",code:"CAD",name:"Canadian dollar"},{currency_id:7,symbol:"Fr.",code:"CHF",name:"Swiss franc"},{currency_id:8,symbol:"\xa5",code:"CNY",name:"Chinese yuan"},{currency_id:9,symbol:"kr",code:"SEK",name:"Swedish krona"},{currency_id:10,symbol:"Mex$",code:"MXN",name:"Mexican peso"},{currency_id:11,symbol:"NZ$",code:"NZD",name:"New Zealand dollar"},{currency_id:12,symbol:"S$",code:"SGD",name:"Singapore dollar"},{currency_id:13,symbol:"HK$",code:"HKD",name:"Hong Kong dollar"},{currency_id:14,symbol:"kr",code:"NOK",name:"Norwegian krone"},{currency_id:15,symbol:"\u20a9",code:"KRW",name:"South Korean won"},{currency_id:16,symbol:"\u20b9",code:"INR",name:"Indian rupee"},{currency_id:17,symbol:"\u20bd",code:"RUB",name:"Russian ruble"},{currency_id:18,symbol:"R",code:"ZAR",name:"South African rand"},{currency_id:19,symbol:"KSh",code:"KES",name:"Kenyan Shilling"},{currency_id:20,symbol:"ZK",code:"ZMW",name:"Zambian Kwacha"},{currency_id:21,symbol:"AED",code:"AED",name:"Arab Emirates Dirham"},{currency_id:22,symbol:"E\xa3",code:"EGP",name:"Egyptian Pound"},{currency_id:23,symbol:"S",code:"PEN",name:"Peruvian Sol"},{currency_id:24,symbol:"UGX",code:"UGX",name:"Ugandan Shilling"},{currency_id:25,symbol:"\u0639.\u062f",code:"IQD",name:"Iraqi Dinar"},{currency_id:26,symbol:"\ufdfc",code:"QAR",name:"Qatari Riyal"},{currency_id:27,symbol:"$",code:"COP",name:"Colombian Peso"},{currency_id:28,symbol:"kr",code:"SEK",name:"Swedish Krona"},{currency_id:29,symbol:"\u20a6",code:"NGN",name:"Nigerian Naira"},{currency_id:30,symbol:"RM",code:"MYR",name:"Malaysian Ringgit"},{currency_id:31,symbol:"re",code:"RES",name:"res"}]}return n.prototype.ngOnInit=function(){this.active_channel_id=window.channel_id,this.paymentForm=this.formBuilder.group({title:["",[t.v.required]],currency:[""],items_description:this.formBuilder.array([this.createItemOption()])}),this.paymentForm.patchValue({currency:"$"}),this.paymentOptions=this.paymentForm.get("items_description")},n.prototype.createItemOption=function(){return this.formBuilder.group({header:["",t.v.required],content:["",[t.v.required,t.v.min(.01)]]})},n.prototype.addOption=function(){this.paymentOptions=this.paymentForm.get("items_description"),this.paymentOptions.push(this.createItemOption())},n.prototype.removeOption=function(n){this.paymentOptions.removeAt(n)},n.prototype.calculateTotalAmount=function(){var n=this;this.paymentObj.total_amount=0,this.paymentForm.get("items_description").controls.forEach(function(l){n.paymentObj.total_amount+=l.controls.content.value}),this.paymentObj.total_amount=Number(this.paymentObj.total_amount.toFixed(2))},n.prototype.checkPriceLength=function(n){(this.paymentForm.get("items_description").controls[n].controls.content.value||0).toString().length>10&&this.paymentOptions.at(n).patchValue({content:Number(this.paymentForm.get("items_description").controls[n].controls.content.value.toString().slice(0,10))})},n.prototype.ngOnDestroy=function(){this.alive=!1},n.prototype.requestPayment=function(){var n=this,l=[];this.paymentForm.controls.items_description.value.forEach(function(u){l.push({header:u.header,content:n.paymentForm.controls.currency.value+" "+u.content})});var u={channel_id:this.active_channel_id,custom_action:{title:this.paymentForm.controls.title.value,amount:this.paymentObj.total_amount,currency_symbol:this.paymentForm.controls.currency.value,description:l,action_buttons:[{button_text:"Pay",button_action:{title:this.paymentForm.controls.title.value,amount:this.paymentObj.total_amount,currency_symbol:this.paymentForm.controls.currency.value,description:l,reference:"",action_type:"NATIVE_ACTIVITY"}}]}};window.opener.postMessage({type:"paymentRequest",data:u},"*"),window.close()},n.ctorParameters=function(){return[{type:t.f}]},n}(),i=function(){return function(){}}(),r=u("2Je8"),a=[[".parent[_ngcontent-%COMP%]{font-family:Proxima-Regular}.hw-18[_ngcontent-%COMP%]{min-width:18px;height:18px;width:18px}.input-border[_ngcontent-%COMP%]{border:1px solid #e4e4ed}.input-border[_ngcontent-%COMP%]:focus{border:1px solid #6f6f6f}  html{height:100%;width:100%}  body{width:100%;margin:0}.add-option-btn[_ngcontent-%COMP%]{color:var(--color)}.add-image-container[_ngcontent-%COMP%]{width:200px;height:100px;color:#6f6f6f;background:#d1d1d4}.image-view[_ngcontent-%COMP%]{height:100px;width:200px}"]],c=e._14({encapsulation:0,styles:a,data:{}});function s(n){return e._40(0,[(n()(),e._17(0,0,null,null,3,"option",[],null,null,null,null,null)),e._15(1,147456,null,0,t.s,[e.n,e.N,[2,t.u]],{value:[0,"value"]},null),e._15(2,147456,null,0,t.A,[e.n,e.N,[8,null]],{value:[0,"value"]},null),(n()(),e._38(3,null,["\n          "," (",")\n        "]))],function(n,l){n(l,1,0,l.context.$implicit.symbol),n(l,2,0,l.context.$implicit.symbol)},function(n,l){n(l,3,0,l.context.$implicit.code,l.context.$implicit.symbol)})}function d(n){return e._40(0,[(n()(),e._17(0,0,null,null,0,"img",[["class","cursor-hand ml-1 hw-18"],["src","assets/img/cross-icon-search.svg"]],null,[[null,"click"]],function(n,l,u){var e=!0,t=n.component;"click"===l&&(t.removeOption(n.parent.context.index),e=!1!==t.calculateTotalAmount()&&e);return e},null,null))],null,null)}function _(n){return e._40(0,[(n()(),e._17(0,0,null,null,28,null,null,null,null,null,null,null)),e._15(1,212992,null,0,t.e,[[3,t.b],[8,null],[8,null]],{name:[0,"name"]},null),e._35(2048,null,t.b,null,[t.e]),e._15(3,16384,null,0,t.p,[t.b],null,null),(n()(),e._38(-1,null,["\n      "])),(n()(),e._17(5,0,null,null,22,"div",[["class","mb-2 d-flex align-items-center"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),e._15(6,212992,null,0,t.k,[[3,t.b],[8,null],[8,null]],{name:[0,"name"]},null),e._35(2048,null,t.b,null,[t.k]),e._15(8,16384,null,0,t.p,[t.b],null,null),(n()(),e._38(-1,null,["\n        "])),(n()(),e._17(10,0,null,null,5,"input",[["class","box-shadow-none form-control outline-none input-border mr-2"],["formControlName","header"],["placeholder","Item description"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,u){var t=!0;"input"===l&&(t=!1!==e._30(n,11)._handleInput(u.target.value)&&t);"blur"===l&&(t=!1!==e._30(n,11).onTouched()&&t);"compositionstart"===l&&(t=!1!==e._30(n,11)._compositionStart()&&t);"compositionend"===l&&(t=!1!==e._30(n,11)._compositionEnd(u.target.value)&&t);return t},null,null)),e._15(11,16384,null,0,t.c,[e.N,e.n,[2,t.a]],null,null),e._35(1024,null,t.m,function(n){return[n]},[t.c]),e._15(13,671744,null,0,t.h,[[3,t.b],[8,null],[8,null],[2,t.m]],{name:[0,"name"]},null),e._35(2048,null,t.n,null,[t.h]),e._15(15,16384,null,0,t.o,[t.n],null,null),(n()(),e._38(-1,null,["\n        "])),(n()(),e._17(17,0,null,null,6,"input",[["class","box-shadow-none form-control outline-none input-border"],["formControlName","content"],["min","0"],["placeholder","Price"],["step",".01"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,u){var t=!0,o=n.component;"input"===l&&(t=!1!==e._30(n,18)._handleInput(u.target.value)&&t);"blur"===l&&(t=!1!==e._30(n,18).onTouched()&&t);"compositionstart"===l&&(t=!1!==e._30(n,18)._compositionStart()&&t);"compositionend"===l&&(t=!1!==e._30(n,18)._compositionEnd(u.target.value)&&t);"change"===l&&(t=!1!==e._30(n,19).onChange(u.target.value)&&t);"input"===l&&(t=!1!==e._30(n,19).onChange(u.target.value)&&t);"blur"===l&&(t=!1!==e._30(n,19).onTouched()&&t);"input"===l&&(o.checkPriceLength(n.context.index),t=!1!==o.calculateTotalAmount()&&t);return t},null,null)),e._15(18,16384,null,0,t.c,[e.N,e.n,[2,t.a]],null,null),e._15(19,16384,null,0,t.x,[e.N,e.n],null,null),e._35(1024,null,t.m,function(n,l){return[n,l]},[t.c,t.x]),e._15(21,671744,null,0,t.h,[[3,t.b],[8,null],[8,null],[2,t.m]],{name:[0,"name"]},null),e._35(2048,null,t.n,null,[t.h]),e._15(23,16384,null,0,t.o,[t.n],null,null),(n()(),e._38(-1,null,["\n        "])),(n()(),e._11(16777216,null,null,1,null,d)),e._15(26,16384,null,0,r.k,[e.Z,e.W],{ngIf:[0,"ngIf"]},null),(n()(),e._38(-1,null,["\n      "])),(n()(),e._38(-1,null,["\n    "]))],function(n,l){n(l,1,0,"items_description"),n(l,6,0,l.context.index);n(l,13,0,"header");n(l,21,0,"content"),n(l,26,0,l.context.index>0)},function(n,l){n(l,5,0,e._30(l,8).ngClassUntouched,e._30(l,8).ngClassTouched,e._30(l,8).ngClassPristine,e._30(l,8).ngClassDirty,e._30(l,8).ngClassValid,e._30(l,8).ngClassInvalid,e._30(l,8).ngClassPending),n(l,10,0,e._30(l,15).ngClassUntouched,e._30(l,15).ngClassTouched,e._30(l,15).ngClassPristine,e._30(l,15).ngClassDirty,e._30(l,15).ngClassValid,e._30(l,15).ngClassInvalid,e._30(l,15).ngClassPending),n(l,17,0,e._30(l,23).ngClassUntouched,e._30(l,23).ngClassTouched,e._30(l,23).ngClassPristine,e._30(l,23).ngClassDirty,e._30(l,23).ngClassValid,e._30(l,23).ngClassInvalid,e._30(l,23).ngClassPending)})}function m(n){return e._40(0,[(n()(),e._17(0,0,null,null,57,"div",[["class","d-flex align-items-center justify-content-center flex-column h-100 w-100 parent"]],null,null,null,null,null)),(n()(),e._38(-1,null,["\n  "])),(n()(),e._17(2,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e._38(-1,null,["Payment Request"])),(n()(),e._38(-1,null,["\n  "])),(n()(),e._38(-1,null,["\n    "])),(n()(),e._38(-1,null,["\n      "])),(n()(),e._38(-1,null,["\n      "])),(n()(),e._38(-1,null,["\n    "])),(n()(),e._38(-1,null,["\n    "])),(n()(),e._38(-1,null,["\n  "])),(n()(),e._38(-1,null,["\n  "])),(n()(),e._17(12,0,null,null,44,"form",[["class","d-flex flex-column w-50"],["novalidate",""],["role","form"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,u){var t=!0;"submit"===l&&(t=!1!==e._30(n,14).onSubmit(u)&&t);"reset"===l&&(t=!1!==e._30(n,14).onReset()&&t);return t},null,null)),e._15(13,16384,null,0,t.y,[],null,null),e._15(14,540672,null,0,t.j,[[8,null],[8,null]],{form:[0,"form"]},null),e._35(2048,null,t.b,null,[t.j]),e._15(16,16384,null,0,t.p,[t.b],null,null),(n()(),e._38(-1,null,["\n    "])),(n()(),e._17(18,0,null,null,8,"div",[["class","d-flex align-items-center mb-2"]],null,null,null,null,null)),(n()(),e._38(-1,null,["\n      "])),(n()(),e._17(20,0,null,null,5,"input",[["class","box-shadow-none form-control outline-none input-border"],["formControlName","title"],["placeholder","Title"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,u){var t=!0;"input"===l&&(t=!1!==e._30(n,21)._handleInput(u.target.value)&&t);"blur"===l&&(t=!1!==e._30(n,21).onTouched()&&t);"compositionstart"===l&&(t=!1!==e._30(n,21)._compositionStart()&&t);"compositionend"===l&&(t=!1!==e._30(n,21)._compositionEnd(u.target.value)&&t);return t},null,null)),e._15(21,16384,null,0,t.c,[e.N,e.n,[2,t.a]],null,null),e._35(1024,null,t.m,function(n){return[n]},[t.c]),e._15(23,671744,null,0,t.h,[[3,t.b],[8,null],[8,null],[2,t.m]],{name:[0,"name"]},null),e._35(2048,null,t.n,null,[t.h]),e._15(25,16384,null,0,t.o,[t.n],null,null),(n()(),e._38(-1,null,["\n    "])),(n()(),e._38(-1,null,["\n    "])),(n()(),e._17(28,0,null,null,12,"div",[["class","d-flex mb-2"]],null,null,null,null,null)),(n()(),e._38(-1,null,["\n      "])),(n()(),e._17(30,0,null,null,9,"select",[["class","form-control"],["formControlName","currency"],["style","height: 48px;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(n,l,u){var t=!0;"change"===l&&(t=!1!==e._30(n,31).onChange(u.target.value)&&t);"blur"===l&&(t=!1!==e._30(n,31).onTouched()&&t);return t},null,null)),e._15(31,16384,null,0,t.u,[e.N,e.n],null,null),e._35(1024,null,t.m,function(n){return[n]},[t.u]),e._15(33,671744,null,0,t.h,[[3,t.b],[8,null],[8,null],[2,t.m]],{name:[0,"name"]},null),e._35(2048,null,t.n,null,[t.h]),e._15(35,16384,null,0,t.o,[t.n],null,null),(n()(),e._38(-1,null,["\n        "])),(n()(),e._11(16777216,null,null,1,null,s)),e._15(38,802816,null,0,r.j,[e.Z,e.W,e.y],{ngForOf:[0,"ngForOf"]},null),(n()(),e._38(-1,null,["\n      "])),(n()(),e._38(-1,null,["\n    "])),(n()(),e._38(-1,null,["\n    "])),(n()(),e._11(16777216,null,null,1,null,_)),e._15(43,802816,null,0,r.j,[e.Z,e.W,e.y],{ngForOf:[0,"ngForOf"]},null),(n()(),e._38(-1,null,["\n    "])),(n()(),e._17(45,0,null,null,7,"div",[["class","d-flex justify-content-between"]],null,null,null,null,null)),(n()(),e._38(-1,null,["\n      "])),(n()(),e._17(47,0,null,null,4,"div",[["class","add-option-btn"]],null,[[null,"click"]],function(n,l,u){var e=!0,t=n.component;"click"===l&&(e=!1!==t.addOption()&&e);return e},null,null)),(n()(),e._38(-1,null,["\n        "])),(n()(),e._17(49,0,null,null,1,"span",[["class","cursor-hand"]],null,null,null,null,null)),(n()(),e._38(-1,null,["+ Add an option"])),(n()(),e._38(-1,null,["\n      "])),(n()(),e._38(52,null,["\n      Total Amount: ","\n    "])),(n()(),e._38(-1,null,["\n    "])),(n()(),e._17(54,0,null,null,1,"button",[["class","btn mt-2 mb-3"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,u){var e=!0,t=n.component;"click"===l&&(e=!1!==t.requestPayment()&&e);return e},null,null)),(n()(),e._38(-1,null,["\n      Request payment\n    "])),(n()(),e._38(-1,null,["\n  "])),(n()(),e._38(-1,null,["\n\n"])),(n()(),e._38(-1,null,["\n"]))],function(n,l){var u=l.component;n(l,14,0,u.paymentForm);n(l,23,0,"title");n(l,33,0,"currency"),n(l,38,0,u.currencies),n(l,43,0,u.paymentForm.get("items_description").controls)},function(n,l){var u=l.component;n(l,12,0,e._30(l,16).ngClassUntouched,e._30(l,16).ngClassTouched,e._30(l,16).ngClassPristine,e._30(l,16).ngClassDirty,e._30(l,16).ngClassValid,e._30(l,16).ngClassInvalid,e._30(l,16).ngClassPending),n(l,20,0,e._30(l,25).ngClassUntouched,e._30(l,25).ngClassTouched,e._30(l,25).ngClassPristine,e._30(l,25).ngClassDirty,e._30(l,25).ngClassValid,e._30(l,25).ngClassInvalid,e._30(l,25).ngClassPending),n(l,30,0,e._30(l,35).ngClassUntouched,e._30(l,35).ngClassTouched,e._30(l,35).ngClassPristine,e._30(l,35).ngClassDirty,e._30(l,35).ngClassValid,e._30(l,35).ngClassInvalid,e._30(l,35).ngClassPending),n(l,52,0,u.paymentObj.total_amount),n(l,54,0,!u.paymentForm.valid)})}var p=e._12("app-payment-request",o,function(n){return e._40(0,[(n()(),e._17(0,0,null,null,1,"app-payment-request",[],null,null,null,m,c)),e._15(1,245760,null,0,o,[t.f],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),g=u("5oXY");u.d(l,"PaymentRequestModuleNgFactory",function(){return y});var y=e._13(i,[],function(n){return e._28([e._29(512,e.k,e._9,[[8,[p]],[3,e.k],e.E]),e._29(4608,r.m,r.l,[e.A]),e._29(4608,t.f,t.f,[]),e._29(4608,t.z,t.z,[]),e._29(512,r.b,r.b,[]),e._29(512,g.l,g.l,[[2,g.q],[2,g.k]]),e._29(512,t.w,t.w,[]),e._29(512,t.t,t.t,[]),e._29(512,i,i,[]),e._29(1024,g.i,function(){return[[{path:"",component:o}]]},[])])})}});